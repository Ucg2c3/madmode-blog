date: 2006-06-05
title: 'Equality and inconsistency in the rules layer'
published: True
tags: ['breadcrumbs']

<div> <p>In the working group that originally did RDFS, there wasn&#39;t enough confidence to standardize things that could express inconsistencies, such as disjointness of classes, nor to do equality reasoning a la foaf:mbox. The 2004 versions of RDF and RDFS are now properly grounded in <a href="http://en.wikipedia.org/wiki/Mathematical_logic">mathematical logic</a>, and OWL specifies owl:disjointWith and owl:differentFrom as well as owl:InverseFunctionalProperty and owl:sameAs.</p>  <p>I have gotten quite a bit of mileage out of <a href="http://www.w3.org/DesignIssues/Notation3">N3</a> rules that capture at least some of the meaning of these constructs. If we feed this to cwm or <a href="http://www.agfa.com/w3c/euler/">Euler</a>:</p>  <pre>{ ?p a owl:InverseFunctionalProperty.<br />  ?u ?p ?w.<br />  ?v ?p ?w.<br />} =&gt; { ?u = ?v }.<br /><br />:Dan foaf:mbox &lt;mailto:connolly@w3.org&gt;;<br />  foaf:name &quot;Dan C.&quot;.<br />:Daniel foaf:mbox &lt;mailto:connolly@w3.org&gt;;<br />  foaf:name &quot;Daniel W. Connolly&quot;.<br /><br />foaf:mbox a owl:InverseFunctionalProperty.<br /></pre>  <p>then they will conclude...</p>  <pre>:Dan = :Daniel.<br /></pre>  <p>And we can use cwm&#39;s equality reasoning mode or explicit substitution-of-equals-for-equals rules a la { ?S1 ?P ?O. ?S1 = ?S2 } =&gt; { ?S2 ?P ?O } to conclude...</p>  <pre>:Dan     = :Dan,<br />            :Daniel;<br />     foaf:mbox &lt;mailto:connolly@w3.org&gt;;<br />     foaf:name &quot;Dan C.&quot;,<br />            &quot;Daniel W. Connolly&quot; .<br /></pre>  <p>To capture owl:disjointWith, I use:</p>  <pre>{ [ is rdf:type of ?x ] owl:disjointWith<br />    [ is rdf:type of ?y ] }<br />   =&gt; { ?x owl:differentFrom ?y }.<br /></pre>  <p>Taking an example from the <a href="http://www.daml.org/2000/10/daml-walkthru">DAML walkthru</a> that I worked on with Lynn Stein and Deb McGuinness back in 2000:</p>  <pre>    :Female     a rdfs:Class;<br />         daml:disjointWith :Male;<br />         rdfs:subClassOf :Animal .<br /></pre>  <p>... and adding :bob a :Male. :jill a :Female gives :bob owl:differentFrom :jill. And from :pat a :Male, :Female, we get :pat owl:differentFrom :pat which is clearly inconsistent.</p>  <p>It&#39;s pretty straightforward to write rules to express these features; the <a href="http://www.w3.org/TR/daml+oil-axioms">axiomatic semantics</a> from Fikes and McGuinness in 2001 represents them in KIF.  It&#39;s much less straightforward to be sure there are no bugs, such as <a href="http://lists.w3.org/Archives/Public/www-rdf-logic/2001Apr/0216.html">the inconsistency</a> reported by Baclawski of the UBOT project.  So  I think ter Horst&#39;s paper, <cite><a href="http://www.websemanticsjournal.org/ps/pub/2005-15">Completeness, decidability and complexity of entailment for RDF Schema and a semantic extension involving the OWL vocabulary</a></cite> is a particularly interesting contribution. My study of his rules is in <a href="http://www.w3.org/2000/10/swap/util/owlth.n3">owlth.n3</a>. In many cases, the rules are the ones I have been using for years:</p>  <pre># rdfp1<br />{ ?p a owl:FunctionalProperty.<br />  ?u ?p ?v.<br />  ?u ?p ?w.<br />} =&gt; { ?v = ?w }.<br /></pre>  <p>But the semantics he gives does not always interpret owl:sameAs as identity; I&#39;d like to understand better why not. He looks for clashes of the form ?v owl:differentFrom ?w; owl:sameAs ?w and ?v owl:disjointWith ?w. ?u a ?v, ?w; isn&#39;t it enough to just look for ?x owl:differentFrom ?x and reduce owl:disjointWith to owl:differentFrom by the rule I gave above?</p>  </div>